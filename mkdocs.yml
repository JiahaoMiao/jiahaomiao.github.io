# ==========================================
# 1. SITE INFORMATION
# ==========================================
site_name: Jiahao Miao
site_url: https://jiahaomiao.github.io 
site_author: Jiahao Miao
site_description: Personal website of a Theoretical Particle Physics Master's student.

# Link to the source code on GitHub (adds the repo icon to the top right)
repo_url: https://github.com/JiahaoMiao/jiahaomiao.github.io
repo_name: JiahaoMiao

# Footer Copyright with license info
copyright: Copyright &copy; 2024 - 2025 Jiahao Miao | CC BY-SA 4.0

# ==========================================
# 2. THEME CONFIGURATION
# ==========================================
theme:
  name: material

  favicon: assets/images/favicon.svg
  logo: assets/images/favicon.svg
  
  # Feature Flags (UI enhancements)
  features:
    - content.code.copy           # Adds a "copy" button to code blocks
    - content.code.annotate       # Allows adding (+) tooltips to code lines
    - content.tooltips            # Enables hover tooltips on links
    - navigation.indexes          # Allows clicking a section title to open a page
    - navigation.tabs             # Moves top-level nav to a horizontal bar
    - navigation.tabs.sticky      # Keeps the nav bar visible while scrolling
    - navigation.top              # Adds a "Back to Top" arrow button
    - navigation.tracking         # Updates the URL hash as you scroll headers
    - toc.follow                  # The Table of Contents highlights where you are
    - search.highlight            # Highlights search terms in the results
    - search.share                # Adds a "Share" button to search results

  # Color Palettes (Day/Night Mode)
  palette:
    # 1. Automatic switching based on OS preference
    - media: "(prefers-color-scheme)"
      toggle:
        icon: material/brightness-auto
        name: Switch to light mode
    # 2. Light Mode Configuration
    - media: "(prefers-color-scheme: light)"
      scheme: default
      primary: black              # Header color
      accent: cyan                # Link/Highlight color
      toggle:
        icon: material/weather-sunny
        name: Switch to dark mode
    # 3. Dark Mode Configuration
    - media: "(prefers-color-scheme: dark)"
      scheme: slate               # The specific dark theme name
      primary: black
      accent: cyan
      toggle:
        icon: material/weather-night
        name: Switch to system preference

  # Typography (IBM Plex is great for academic readability)
  font:
    text: IBM Plex Sans
    code: Fira Mono
  
  # Custom Icons
  icon:
    repo: fontawesome/brands/github

# ==========================================
# 3. PLUGINS
# ==========================================
plugins:
  - search                        # Enables the search bar
  # - blog:                       # (Uncomment when you are ready to blog)
  #     blog_toc: true
  #     post_date_format: full 
  #     pagination_per_page: 10
  - minify:                       # Compresses HTML (makes site faster)
      minify_html: true
  - tags                          # Allows adding tags to pages
  - git-revision-date-localized:  # Adds "Last updated: [Date]" to bottom of pages
      type: date
      enable_creation_date: true
  
# ==========================================
# 4. MARKDOWN EXTENSIONS (The "Superpowers")
# ==========================================
markdown_extensions:
  - admonition                    # Enables "!!! note" blocks
  - footnotes                     # Enables [^1] style footnotes
  - attr_list                     # Allows adding { .class } to elements
  - md_in_html                    # Allows Markdown inside HTML tags
  - toc:
      permalink: true             # Adds the ¶ link symbol to headers
  
  # Math Support (Crucial for Physics)
  - pymdownx.arithmatex:
      generic: true
  
  # Typographic improvements (transforms ... to … etc.)
  - pymdownx.betterem:
      smart_enable: all
  
  # Code blocks and Highlighting
  - pymdownx.highlight:
      anchor_linenums: true       # Link to specific lines of code
      line_spans: __span
      pygments_lang_class: true
  - pymdownx.superfences:         # Allows nesting code blocks inside tabs
      custom_fences:
        - name: mermaid           # Setup for Mermaid Diagrams
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format

  # Tabbed Content (e.g. switching between Python/C++)
  - pymdownx.tabbed:
      alternate_style: true 
  
  # Dropdown lists (Collapsible sections)
  - pymdownx.details
  
  # Task Lists (Checkbox lists)
  - pymdownx.tasklist:
      custom_checkbox: true
      
  # Emojis (e.g. :rocket: :book:)
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg

# ==========================================
# 5. SOCIAL LINKS & MATH
# ==========================================
extra:
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/JiahaoMiao
    - icon: fontawesome/solid/envelope
      link: mailto:jiahao.miao@studenti.unimi.it # Added mailto: for email links
    - icon: fontawesome/brands/orcid
      link: https://orcid.org/0009-0001-7429-9186
    - icon: fontawesome/solid/lightbulb
      link: https://inspirehep.net/authors/2940765

# Load KaTeX for rendering math equations
extra_javascript:
  - javascripts/katex.js # Custom JS to render math on page load
  - https://unpkg.com/katex@0/dist/katex.min.js # KaTeX library
  - https://unpkg.com/katex@0/dist/contrib/auto-render.min.js # Auto-render extension for KaTeX 
  - javascripts/external-links.js # Opens external links in new tabs

extra_css:
  - https://unpkg.com/katex@0/dist/katex.min.css # KaTeX CSS

# ==========================================
# 6. NAVIGATION MENU
# ==========================================
nav:
  - Home: index.md
  - About:
      - CV & Education: about/cv.md
      - Research Interests: about/research.md
  - Academic:
      - Publications: academic/publications.md
      - Workshops & Talks: academic/workshops.md
      - Projects: academic/projects.md
  - Resources:
      - Notes: resources/notes.md